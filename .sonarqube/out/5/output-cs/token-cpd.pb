¨
tC:\Users\AbrahamLIPACALABILLA\source\repos\Diagnostico\src\Services\Common\Services.Common.Paging\PagingExtension.cs
	namespace 	
Service
 
. 
Common 
. 
Paging 
{ 
public		 

static		 
class		 
PagingExtension		 '
{

 
public 
static 
async 
Task  
<  !
DataCollection! /
</ 0
T0 1
>1 2
>2 3
GetPagedAsync4 A
<A B
TB C
>C D
(D E
this 

IQueryable 
< 
T 
> 
query $
,$ %
int 
page 
, 
int 
take 
) 
{ 	
var 
originalPages 
= 
page  $
;$ %
page 
-- 
; 
if 
( 
page 
> 
$num 
) 
page 
= 
page 
* 
take "
;" #
var 
result 
= 
new 
DataCollection +
<+ ,
T, -
>- .
{ 
Items 
= 
await 
query #
.# $
Skip$ (
(( )
page) -
)- .
.. /
Take/ 3
(3 4
take4 8
)8 9
.9 :
ToListAsync: E
(E F
)F G
,G H
Total 
= 
await 
query #
.# $

CountAsync$ .
(. /
)/ 0
,0 1
Page 
= 
originalPages $
} 
; 
if 
( 
result 
. 
Total 
> 
$num  
)  !
{ 
result   
.   
Pages   
=   
Convert   &
.  & '
ToInt32  ' .
(  . /
Math  / 3
.  3 4
Ceiling  4 ;
(  ; <
Convert  < C
.  C D
	ToDecimal  D M
(  M N
result  N T
.  T U
Total  U Z
)  Z [
/  \ ]
take  ^ b
)  b c
)  c d
;  d e
}!! 
return## 
result## 
;## 
}$$ 	
}%% 
}&& 